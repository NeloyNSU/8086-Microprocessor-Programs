;	Occurence Of Sub-string
;											THIS WAS EPIC

ASSUME CS:CODE,DS:DATA,SS:STACK
INCLUDE IO.H

STACK SEGMENT
	DW 40 DUP(0)
	TOP LABEL WORD
STACK ENDS

DATA SEGMENT
	PROMPTS DB 13,10,"	Enter the string : ",0	
	PROMPTSB DB 13,10,"	Enter the sub-string : ",0	
	FOUND DB 13,10,"	Substring Found",13,10,0	
	NFOUND DB 13,10,"	Substring Not Found",13,10,0	
	STRN DB 20 DUP(0)
	SSTR DB 20 DUP(0)
	LENS DW 0000H
	LENSB DW 0000H
DATA ENDS

CODE SEGMENT
START:
	MOV AX,DATA
	MOV DS,AX
	MOV ES,AX
	MOV AX,STACK
	MOV SS,AX
	LEA SP,TOP
	
	MOV CX,0000H
	MOV DX,0000H
	OUTPUT PROMPTS
	INPUTS STRN,20
	MOV LENS,CX
	
	MOV CX,0000H
	OUTPUT PROMPTSB
	INPUTS SSTR,20
	MOV LENSB,CX
	
	MOV CX,LENS		;LENGTH OF STRING
	MOV DX,LENSB	;LENGTH OF Sub-string
	
	MOV SI,0
	MOV DI,0
	CLD
	MOV AL,SSTR[DI]
AGAIN:
	CMP STRN[SI],AL
	JZ GO
BACK:
	INC SI
	LOOP AGAIN
	JMP NFD
GO:
	PUSH CX
	PUSH SI
	PUSH DI
	MOV CX,DX
	LEA SI,STRN[SI]
	LEA DI,SSTR
	REPE CMPSB
	JZ FND
	POP DI
	POP SI
	POP CX
	JMP BACK
	
FND:
	OUTPUT FOUND
	JMP QUIT
	
NFD:
	OUTPUT NFOUND
QUIT:
	MOV AH,4CH
	INT 21H
CODE ENDS
END START