;Program for Binary-Gray conversion

ASSUME CS:CODE,DS:DATA
INCLUDE IO.H

DATA SEGMENT
	PROMPT DB 10,"		NUMBER 	: ",0
	MSG1 DB 10,"		BINARY CODE : ",0
	MSG2 DB 10,"		GRAY CODE : ",0
	NXT DB 10," ",0
	NUM DB 6 DUP(0)
	O DB "1",0
	Z DB "0",0
DATA ENDS

CODE SEGMENT
START:
	MOV AX,DATA
	MOV DS,AX
	
	OUTPUT PROMPT
	INPUTS NUM,4
	ATOI NUM
	AND AL,0FH
	MOV AH,00H
	
;	DISPLAY BINARY CODE
	
	OUTPUT MSG1
	CALL DISP
	
;	CONVERT
	
	MOV BX,AX
	SHR BL,1
	XOR AL,BL
	
;	DISPLAY GRAY CODE
	OUTPUT MSG2
	CALL DISP
	JMP QUIT
	
;	PRCEDURE TO DISPLAY

DISP PROC
	MOV CX,0008H
	MOV DX,AX
POOL:
	SHL DL,1
	JC ONE
	OUTPUT Z
	JMP GO
ONE:
	OUTPUT O
GO:
	LOOP POOL
	OUTPUT NXT
	RET
DISP ENDP

QUIT:
	MOV AH,4CH
	INT 21H
CODE ENDS
END START